[gd_resource type="VisualShader" load_steps=105 format=3 uid="uid://dktxuhg1aod5r"]

[ext_resource type="Texture2D" uid="uid://cs75vkndl0nxk" path="res://area/BK camelot castle/Data/Texture/osc_k_m_water01.png" id="1_ehsjb"]
[ext_resource type="Texture2D" uid="uid://bh15xgpvboavg" path="res://area/BK camelot castle/Data/Texture/osc_i_m_water01.png" id="2_p6xjc"]
[ext_resource type="Texture2D" uid="uid://dxswgulyyuln4" path="res://area/BK camelot castle/Data/Texture/osc_k_m_water02.png" id="3_q4a2u"]

[sub_resource type="VisualShaderNodeExpression" id="VisualShaderNodeExpression_homeq"]
size = Vector2(760, 960)
expression = "
	float alpha = abs(sin(time * frequency));
	//vec2 uv = UV2 + texture(displacement, UV2 * displacementScale + vec2(time * -displacementFlowSpeed)).ra;
	vec2 uv = vec2(0.0,0.0); //UV;
	//uv.y = clamp(uv.y + offset + strength * alpha, 0.01, 1.0);
	//vec4 col = texture(main_tex, uv) * COLOR;
	vec4 col = texture(main_tex, vec2(uv.x, uv.y)) * COLOR;
	
	//float secondary_alpha = abs(sin((time - secondary_offset) * frequency));
	vec2 uv2 = UV;
	uv2.y = uv2.y + 1.0 + strength * (time * frequency);
	vec4 secondary_col = texture(secondary_tex, uv2);
	//secondary_col.a *= secondary_col.a;
	col.rgb *= secondary_col.r;
	col.a *= secondary_col.r;
	
	
	
	//col = clamp(col * COLOR, 0, 1);
	AlbedeoOut = col.rgb;
	AlphaOut = col.a; // * col.a * col.a;
	
"

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_pb2tj"]
parameter_name = "Frequency2"

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_u7bq2"]
default_input_values = [0, 1.37, 1, 0.39]
operator = 2

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_tclcb"]
default_input_values = [0, Quaternion(1, 1, 1, 1), 1, Quaternion(0.3, 0.5, 0.5, 0.5)]
expanded_output_ports = [0]
op_type = 2
operator = 3

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_80jyg"]
default_input_values = [0, Quaternion(0, 0, 0, 0), 1, Quaternion(0, 0, 0, 0)]
expanded_output_ports = [0]
op_type = 2
operator = 2

[sub_resource type="VisualShaderNodeClamp" id="VisualShaderNodeClamp_mbdo5"]
output_port_for_preview = 0
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0), 2, Vector2(1, 1)]
expanded_output_ports = [0]
op_type = 3

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_r34u5"]
expanded_output_ports = [0]
texture = ExtResource("1_ehsjb")
texture_type = 1

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_wnk76"]
parameter_name = "displacementScale"

[sub_resource type="VisualShaderNodeExpression" id="VisualShaderNodeExpression_j1act"]
expanded_output_ports = [0]
size = Vector2(480, 340)
expression = "output = clamp(col * COLOR, 0, 1);"

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_0lsnf"]
expanded_output_ports = [0]
texture_type = 1

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_c08hr"]
parameter_name = "displacementFlowSpeed"

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_vbsx6"]
default_input_values = [0, 0.335, 1, 0.77]
operator = 2

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_hyj5q"]
output_port_for_preview = 0
source = 1
texture = ExtResource("1_ehsjb")

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_6ys0r"]
expanded_output_ports = [0]
texture_type = 1

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_sd0ih"]
expanded_output_ports = [0]
operator = 2

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_prwic"]

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_s2vc3"]
default_input_values = [0, Vector3(0, 0, 0), 1, Vector3(0.3, 0.3, 0.3)]
expanded_output_ports = [0]
operator = 2

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_jqpob"]
default_input_values = [0, Vector3(0, 0, 0), 1, Vector3(2, 2, 2)]
expanded_output_ports = [0]
operator = 2

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_ep6uo"]
default_input_values = [0, 1.37, 1, 0.39]
operator = 2

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_rajr3"]
default_input_values = [0, 1.37, 1, 0.39]
operator = 2

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_dcmsu"]
parameter_name = "Texture2DParameter"
texture_type = 1
texture_source = 1

[sub_resource type="VisualShaderNodeColorConstant" id="VisualShaderNodeColorConstant_l8j8j"]
expanded_output_ports = [0]
constant = Color(0.886275, 0.980392, 1, 0)

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_8ugyq"]
default_input_values = [0, 0.0, 1, 0.0, 2, 0.0, 3, 0.0]
expanded_output_ports = [0]

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_0ltwd"]
default_input_values = [0, 0.0, 1, 0.0, 2, 0.0, 3, 0.0]
expanded_output_ports = [0]

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_u5fus"]
default_input_values = [0, 0.0, 1, 0.0, 2, 0.0, 3, 0.0]
expanded_output_ports = [0]

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_6bbxl"]
default_input_values = [0, Vector3(1, 1, 1), 1, Vector3(0.3, 0.5, 0.5)]
expanded_output_ports = [0]

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_caxlo"]
default_input_values = [0, Vector3(1, 1, 1), 1, Vector3(0, 1, 0)]
expanded_output_ports = [0]

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_p6k4i"]
default_input_values = [0, Vector3(1, 1, 1), 1, Vector3(1, 1, 1)]
expanded_output_ports = [0]
operator = 2

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_gp2md"]
parameter_name = "offset"

[sub_resource type="VisualShaderNodeExpression" id="VisualShaderNodeExpression_mxikc"]
expanded_output_ports = [0]
size = Vector2(480, 340)
expression = "output = clamp(col * COLOR, 0, 1);"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_7i2xm"]
default_input_values = [0, Vector3(1, 1, 1), 1, Vector3(0, 1, 0)]
expanded_output_ports = [0]
operator = 2

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_jrx4j"]
default_input_values = [0, 1.37, 1, 0.39]
operator = 2

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_5sxhw"]

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_tm0u7"]
default_input_values = [0, 1.37, 1, 0.39]
operator = 2

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_0q8j6"]
default_input_values = [0, 1.37, 1, 0.39]
operator = 2

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_lv086"]
default_input_values = [0, Vector3(1, 1, 1), 1, Vector3(0.3, 0.5, 0.5)]
expanded_output_ports = [0]

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_roc3m"]
default_input_values = [0, Vector3(0, 0, 0), 1, Vector3(2, 2, 2)]
expanded_output_ports = [0]
operator = 2

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_evjww"]

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_c4hxl"]
parameter_name = "Texture2DParameter2"
texture_type = 1

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_rgl3h"]
default_input_values = [0, Vector3(1, 1, 1), 1, Vector3(0.3, 0.5, 0.5)]
expanded_output_ports = [0]
operator = 2

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_crwr0"]
parameter_name = "Texture2DParameter3"
texture_type = 1

[sub_resource type="VisualShaderNodeVectorRefract" id="VisualShaderNodeVectorRefract_0p2hk"]
default_input_values = [0, Vector3(0, 0, 0), 1, Vector3(0.95, 1.03, 1.03), 2, 0.205]

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_5vm2s"]
output_port_for_preview = 0
source = 1

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_b8asq"]
input_name = "time"

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_qb3po"]
default_input_values = [0, 0.0, 1, 0.2]
operator = 2

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_8rbnm"]
op_type = 0

[sub_resource type="VisualShaderNodeUVFunc" id="VisualShaderNodeUVFunc_4ngxk"]

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_p2jx1"]
input_name = "uv"

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_nbx3p"]
texture = ExtResource("2_p6xjc")

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_1mrbr"]
constant = 0.254

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_yagoo"]
default_input_values = [0, 0.0, 1, 0.2]
operator = 2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_5xkdh"]
input_name = "screen_uv"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_cj4nc"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
op_type = 0

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_law6r"]
default_input_values = [0, 0.0, 1, 1.78]
operator = 3

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_md2oa"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
op_type = 0
operator = 1

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_a88u4"]
output_port_for_preview = 0
operator = 2

[sub_resource type="VisualShaderNodeVectorFunc" id="VisualShaderNodeVectorFunc_h8t0a"]
output_port_for_preview = 0
default_input_values = [0, Vector2(0, 0)]
op_type = 0

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_lcl04"]
output_port_for_preview = 0
default_input_values = [0, Quaternion(0, 0, 0, 0), 1, Quaternion(0, 0, 0, 0)]
op_type = 2

[sub_resource type="VisualShaderNodeColorOp" id="VisualShaderNodeColorOp_0jmsa"]
output_port_for_preview = 0
default_input_values = [0, Vector3(0, 0, 0), 1, Vector3(1, 1, 1)]
operator = 3

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_jr5yi"]
output_port_for_preview = 0
default_input_values = [0, Vector3(1, 1, 1), 1, Vector3(0, 0, 0)]

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_oopha"]
output_port_for_preview = 0
default_input_values = [0, Quaternion(0, 0, 0, 0), 1, Quaternion(0, 0, 0, 0)]
expanded_output_ports = [0]
op_type = 2
operator = 2

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_dtrj6"]
expanded_output_ports = [0]
texture = ExtResource("2_p6xjc")

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_o2xgm"]
parameter_name = "mainTex"
color_default = 2
texture_repeat = 1

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_a0k1b"]
input_name = "time"

[sub_resource type="VisualShaderNodeExpression" id="VisualShaderNodeExpression_u0ckj"]
size = Vector2(720, 520)
expression = "
	float scrollAmount = time * flowSpeed;
	float mask_col = texture(mask, vec2(UV.x + scrollAmount, clamp(UV.y, .1, .9))).a;
	
	vec2 uv = UV + texture(displacement, UV * displacementScale + vec2(time * -displacementFlowSpeed)).ra;
	vec4 col = texture(albedo, vec2(uv.x, uv.y + scrollAmount)) * COLOR;
	col.a *= mask_col;
	color = col.r;
	alpha = col.a * 0.5;
"

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_jrdwf"]
parameter_name = "displacement"
color_default = 1
texture_repeat = 1

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_4hpk3"]
input_name = "time"

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_6n25f"]
constant = 3.0

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_uovp2"]
constant = 0.076

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_pe8vs"]
constant = 0.041

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_n7nii"]
constant = 0.38

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_gj2in"]
parameter_name = "mask"
texture_repeat = 1

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_hmdb7"]
input_name = "screen_uv"

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_e8eum"]
input_name = "screen_uv"

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_jrux0"]
parameter_name = "mainText"
texture_source = 3

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_kxdly"]
expanded_output_ports = [0]
texture = ExtResource("1_ehsjb")

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_p8if5"]
expanded_output_ports = [0]
texture = ExtResource("3_q4a2u")

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_6f8cb"]
output_port_for_preview = 0
default_input_values = [0, Quaternion(0, 0, 0, 0), 1, Quaternion(1, 1, 1, 0)]
expanded_output_ports = [0]
op_type = 2
operator = 2

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_unk7x"]
default_input_values = [0, 0.0, 1, 0.2]
operator = 2

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_20m64"]
parameter_name = "Strength"

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_tct53"]
input_name = "uv2"

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_0xxmg"]
default_input_values = [0, 0.0, 1, 0.2]
operator = 2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_7qx8t"]
input_name = "time"

[sub_resource type="VisualShaderNodeUVFunc" id="VisualShaderNodeUVFunc_sq4hp"]
default_input_values = [1, Vector2(0.195, 0.235), 2, Vector2(0.815, 1.165)]

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_itarw"]
expanded_output_ports = [0]
input_name = "uv"

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_yuvov"]
default_input_values = [0, 0.02, 1, 0.0]

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_rg7pb"]
op_type = 0

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_33mfv"]
constant = 0.265

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_1s0md"]
default_input_values = [0, 0.0, 1, 1.72]
operator = 3

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_uv0wp"]
default_input_values = [0, 0.0, 1, 0.2]
operator = 2

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_2bk2k"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
op_type = 0

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_uwxcn"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
op_type = 0
operator = 1

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_gfi8h"]
input_name = "screen_uv"

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_sf6tu"]
output_port_for_preview = 0
expanded_output_ports = [0]
source = 1
texture = ExtResource("1_ehsjb")

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_77j3t"]
default_input_values = [0, 0.02, 1, 0.38]
operator = 1

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_5s2ym"]
default_input_values = [0, 0.02, 1, 3.0]
operator = 3

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_lg431"]
expanded_output_ports = [0]
texture = ExtResource("1_ehsjb")
texture_type = 1

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_o8o50"]
expanded_output_ports = [0]
texture = ExtResource("3_q4a2u")
texture_type = 1

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_4ob8e"]
op_type = 0

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_l2p50"]
default_input_values = [0, 0.02, 1, 0.38]
operator = 1

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_0xlgk"]
default_input_values = [0, 0.02, 1, -3.0]
operator = 3

[resource]
code = "shader_type spatial;
render_mode blend_mix, depth_draw_opaque, cull_back, diffuse_lambert, specular_schlick_ggx, unshaded, shadows_disabled;

uniform sampler2D tex_frg_44;
uniform sampler2D screen_tex_frg_90 : hint_screen_texture;
uniform sampler2D tex_frg_93 : source_color;
uniform sampler2D tex_frg_94 : source_color;



void fragment() {
// Input:89
	vec2 n_out89p0 = SCREEN_UV;


// Input:78
	vec2 n_out78p0 = UV;
	float n_out78p1 = n_out78p0.r;
	float n_out78p2 = n_out78p0.g;


// Input:74
	float n_out74p0 = TIME;


// FloatOp:92
	float n_in92p1 = 3.00000;
	float n_out92p0 = n_out74p0 / n_in92p1;


// FloatOp:91
	float n_out91p0 = n_out78p1 - n_out92p0;


// FloatOp:79
	float n_out79p0 = n_out74p0 + n_out78p2;


// VectorCompose:80
	vec2 n_out80p0 = vec2(n_out91p0, n_out79p0);


// Texture2D:44
	vec4 n_out44p0 = texture(tex_frg_44, n_out80p0);


// FloatConstant:84
	float n_out84p0 = 0.265000;


// FloatOp:86
	float n_out86p0 = n_out44p0.x * n_out84p0;


// VectorOp:87
	vec2 n_out87p0 = n_out89p0 + vec2(n_out86p0);


// FloatOp:85
	float n_in85p1 = 1.72000;
	float n_out85p0 = n_out84p0 / n_in85p1;


// VectorOp:88
	vec2 n_out88p0 = n_out87p0 - vec2(n_out85p0);


	vec4 n_out90p0;
// Texture2D:90
	n_out90p0 = texture(screen_tex_frg_90, n_out88p0);


// ColorConstant:160
	vec4 n_out160p0 = vec4(0.886275, 0.980392, 1.000000, 0.000000);
	float n_out160p3 = n_out160p0.b;


	vec4 n_out170p0;
// Expression:170
	n_out170p0 = vec4(0.0, 0.0, 0.0, 0.0);
	{
		n_out170p0 = clamp(n_out160p0 * COLOR, 0, 1);
	}
	float n_out170p1 = n_out170p0.r;
	float n_out170p2 = n_out170p0.g;
	float n_out170p4 = n_out170p0.a;


// VectorCompose:179
	vec3 n_out179p0 = vec3(n_out170p1, n_out170p2, n_out170p2);


// VectorOp:178
	vec3 n_out178p0 = n_out179p0 * vec3(n_out170p4);


// VectorOp:169
	vec3 n_in169p1 = vec3(1.00000, 1.00000, 1.00000);
	vec3 n_out169p0 = n_out178p0 * n_in169p1;
	float n_out169p1 = n_out169p0.r;
	float n_out169p2 = n_out169p0.g;
	float n_out169p3 = n_out169p0.b;


// Texture2D:93
	vec4 n_out93p0 = texture(tex_frg_93, n_out80p0);


	vec4 n_out133p0;
// Expression:133
	n_out133p0 = vec4(0.0, 0.0, 0.0, 0.0);
	{
		n_out133p0 = clamp(n_out93p0 * COLOR, 0, 1);
	}
	float n_out133p2 = n_out133p0.g;
	float n_out133p3 = n_out133p0.b;
	float n_out133p4 = n_out133p0.a;


// VectorCompose:150
	vec3 n_out150p0 = vec3(n_out133p2, n_out133p3, n_out133p3);


// VectorOp:156
	vec3 n_out156p0 = n_out150p0 * vec3(n_out133p4);
	float n_out156p3 = n_out156p0.b;


// FloatOp:157
	float n_out157p0 = n_out156p3 * n_out156p3;


// FloatOp:158
	float n_out158p0 = n_out157p0 * n_out157p0;


// VectorCompose:165
	vec3 n_out165p0 = vec3(n_out169p1, n_out158p0, n_out169p3);


// VectorCompose:162
	vec3 n_out162p0 = vec3(n_out158p0, n_out169p2, n_out169p3);


// VectorOp:167
	vec3 n_out167p0 = n_out165p0 + n_out162p0;


// VectorCompose:166
	vec3 n_out166p0 = vec3(n_out169p1, n_out169p2, n_out158p0);


// VectorOp:168
	vec3 n_out168p0 = n_out167p0 + n_out166p0;


// FloatOp:97
	float n_in97p1 = -3.00000;
	float n_out97p0 = n_out74p0 / n_in97p1;


// FloatOp:96
	float n_out96p0 = n_out78p1 - n_out97p0;


// VectorCompose:95
	vec2 n_out95p0 = vec2(n_out96p0, n_out79p0);


// Texture2D:94
	vec4 n_out94p0 = texture(tex_frg_94, n_out95p0);
	float n_out94p1 = n_out94p0.r;
	float n_out94p2 = n_out94p0.g;
	float n_out94p3 = n_out94p0.b;


// FloatOp:172
	float n_out172p0 = n_out94p1 * n_out94p1;


// FloatOp:175
	float n_out175p0 = n_out94p2 * n_out94p2;


// FloatOp:176
	float n_out176p0 = n_out94p3 * n_out94p3;


// VectorCompose:174
	vec3 n_out174p0 = vec3(n_out172p0, n_out175p0, n_out176p0);


// VectorOp:171
	vec3 n_in171p0 = vec3(1.00000, 1.00000, 1.00000);
	vec3 n_out171p0 = n_in171p0 * n_out174p0;


// VectorOp:180
	vec3 n_out180p0 = n_out168p0 * n_out171p0;


// VectorOp:177
	vec3 n_out177p0 = vec3(n_out90p0.xyz) + n_out180p0;


// Output:0
	ALBEDO = n_out177p0;
	EMISSION = n_out171p0;


}
"
graph_offset = Vector2(1285.34, -943.89)
flags/unshaded = true
flags/shadows_disabled = true
nodes/fragment/0/position = Vector2(2700, -1100)
nodes/fragment/5/node = SubResource("VisualShaderNodeInput_a0k1b")
nodes/fragment/5/position = Vector2(-2220, -140)
nodes/fragment/7/node = SubResource("VisualShaderNodeFloatParameter_20m64")
nodes/fragment/7/position = Vector2(-2620, -200)
nodes/fragment/10/node = SubResource("VisualShaderNodeExpression_homeq")
nodes/fragment/10/position = Vector2(-1620, -700)
nodes/fragment/10/size = Vector2(760, 960)
nodes/fragment/10/input_ports = "0,8,main_tex;1,8,secondary_tex;2,0,time;3,0,frequency;4,0,strength;5,8,displacement;6,0,displacementScale;7,0,displacementFlowSpeed;8,0,offset;"
nodes/fragment/10/output_ports = "0,4,AlbedeoOut;1,0,AlphaOut;"
nodes/fragment/10/expression = "
	float alpha = abs(sin(time * frequency));
	//vec2 uv = UV2 + texture(displacement, UV2 * displacementScale + vec2(time * -displacementFlowSpeed)).ra;
	vec2 uv = vec2(0.0,0.0); //UV;
	//uv.y = clamp(uv.y + offset + strength * alpha, 0.01, 1.0);
	//vec4 col = texture(main_tex, uv) * COLOR;
	vec4 col = texture(main_tex, vec2(uv.x, uv.y)) * COLOR;
	
	//float secondary_alpha = abs(sin((time - secondary_offset) * frequency));
	vec2 uv2 = UV;
	uv2.y = uv2.y + 1.0 + strength * (time * frequency);
	vec4 secondary_col = texture(secondary_tex, uv2);
	//secondary_col.a *= secondary_col.a;
	col.rgb *= secondary_col.r;
	col.a *= secondary_col.r;
	
	
	
	//col = clamp(col * COLOR, 0, 1);
	AlbedeoOut = col.rgb;
	AlphaOut = col.a; // * col.a * col.a;
	
"
nodes/fragment/11/node = SubResource("VisualShaderNodeFloatParameter_pb2tj")
nodes/fragment/11/position = Vector2(-2340, -800)
nodes/fragment/13/node = SubResource("VisualShaderNodeFloatParameter_wnk76")
nodes/fragment/13/position = Vector2(-1680, 340)
nodes/fragment/14/node = SubResource("VisualShaderNodeFloatParameter_c08hr")
nodes/fragment/14/position = Vector2(-1300, 320)
nodes/fragment/16/node = SubResource("VisualShaderNodeTexture2DParameter_dcmsu")
nodes/fragment/16/position = Vector2(-800, -440)
nodes/fragment/17/node = SubResource("VisualShaderNodeFloatParameter_gp2md")
nodes/fragment/17/position = Vector2(-1040, 400)
nodes/fragment/18/node = SubResource("VisualShaderNodeTexture2DParameter_c4hxl")
nodes/fragment/18/position = Vector2(-1660, -1160)
nodes/fragment/19/node = SubResource("VisualShaderNodeTexture2DParameter_crwr0")
nodes/fragment/19/position = Vector2(-2100, -820)
nodes/fragment/20/node = SubResource("VisualShaderNodeVectorRefract_0p2hk")
nodes/fragment/20/position = Vector2(-60, -220)
nodes/fragment/21/node = SubResource("VisualShaderNodeTexture_5vm2s")
nodes/fragment/21/position = Vector2(5080, 260)
nodes/fragment/22/node = SubResource("VisualShaderNodeInput_b8asq")
nodes/fragment/22/position = Vector2(3720, -40)
nodes/fragment/23/node = SubResource("VisualShaderNodeFloatOp_qb3po")
nodes/fragment/23/position = Vector2(3960, 20)
nodes/fragment/24/node = SubResource("VisualShaderNodeVectorCompose_8rbnm")
nodes/fragment/24/position = Vector2(3660, 180)
nodes/fragment/25/node = SubResource("VisualShaderNodeUVFunc_4ngxk")
nodes/fragment/25/position = Vector2(3880, 120)
nodes/fragment/26/node = SubResource("VisualShaderNodeInput_p2jx1")
nodes/fragment/26/position = Vector2(3580, -20)
nodes/fragment/27/node = SubResource("VisualShaderNodeTexture_nbx3p")
nodes/fragment/27/position = Vector2(4140, 60)
nodes/fragment/28/node = SubResource("VisualShaderNodeFloatConstant_1mrbr")
nodes/fragment/28/position = Vector2(4120, 380)
nodes/fragment/29/node = SubResource("VisualShaderNodeFloatOp_yagoo")
nodes/fragment/29/position = Vector2(4400, 180)
nodes/fragment/30/node = SubResource("VisualShaderNodeInput_5xkdh")
nodes/fragment/30/position = Vector2(4240, -40)
nodes/fragment/31/node = SubResource("VisualShaderNodeVectorOp_cj4nc")
nodes/fragment/31/position = Vector2(4580, 80)
nodes/fragment/32/node = SubResource("VisualShaderNodeFloatOp_law6r")
nodes/fragment/32/position = Vector2(4500, 360)
nodes/fragment/33/node = SubResource("VisualShaderNodeVectorOp_md2oa")
nodes/fragment/33/position = Vector2(4780, 200)
nodes/fragment/34/node = SubResource("VisualShaderNodeVectorOp_a88u4")
nodes/fragment/34/position = Vector2(-60, -540)
nodes/fragment/35/node = SubResource("VisualShaderNodeVectorFunc_h8t0a")
nodes/fragment/35/position = Vector2(-480, -320)
nodes/fragment/36/node = SubResource("VisualShaderNodeVectorOp_lcl04")
nodes/fragment/36/position = Vector2(-300, -320)
nodes/fragment/37/node = SubResource("VisualShaderNodeColorOp_0jmsa")
nodes/fragment/37/position = Vector2(-420, -480)
nodes/fragment/38/node = SubResource("VisualShaderNodeVectorOp_jr5yi")
nodes/fragment/38/position = Vector2(-500, -520)
nodes/fragment/39/node = SubResource("VisualShaderNodeVectorOp_oopha")
nodes/fragment/39/position = Vector2(140, -900)
nodes/fragment/44/node = SubResource("VisualShaderNodeTexture_dtrj6")
nodes/fragment/44/position = Vector2(1100, -980)
nodes/fragment/47/node = SubResource("VisualShaderNodeTexture2DParameter_o2xgm")
nodes/fragment/47/position = Vector2(660, -820)
nodes/fragment/52/node = SubResource("VisualShaderNodeExpression_u0ckj")
nodes/fragment/52/position = Vector2(2440, -2000)
nodes/fragment/52/size = Vector2(720, 520)
nodes/fragment/52/input_ports = "0,0,time;1,0,flowSpeed;2,0,displacementFlowSpeed;3,0,displacementScale;4,8,albedo;5,8,displacement;6,8,mask;"
nodes/fragment/52/output_ports = "0,0,color;1,0,alpha;"
nodes/fragment/52/expression = "
	float scrollAmount = time * flowSpeed;
	float mask_col = texture(mask, vec2(UV.x + scrollAmount, clamp(UV.y, .1, .9))).a;
	
	vec2 uv = UV + texture(displacement, UV * displacementScale + vec2(time * -displacementFlowSpeed)).ra;
	vec4 col = texture(albedo, vec2(uv.x, uv.y + scrollAmount)) * COLOR;
	col.a *= mask_col;
	color = col.r;
	alpha = col.a * 0.5;
"
nodes/fragment/53/node = SubResource("VisualShaderNodeTexture2DParameter_jrdwf")
nodes/fragment/53/position = Vector2(1720, -2260)
nodes/fragment/54/node = SubResource("VisualShaderNodeInput_4hpk3")
nodes/fragment/54/position = Vector2(2040, -2100)
nodes/fragment/55/node = SubResource("VisualShaderNodeFloatConstant_6n25f")
nodes/fragment/55/position = Vector2(1600, -2000)
nodes/fragment/56/node = SubResource("VisualShaderNodeFloatConstant_uovp2")
nodes/fragment/56/position = Vector2(1780, -1860)
nodes/fragment/57/node = SubResource("VisualShaderNodeFloatConstant_pe8vs")
nodes/fragment/57/position = Vector2(1540, -1880)
nodes/fragment/58/node = SubResource("VisualShaderNodeFloatConstant_n7nii")
nodes/fragment/58/position = Vector2(1800, -1700)
nodes/fragment/59/node = SubResource("VisualShaderNodeTexture2DParameter_gj2in")
nodes/fragment/59/position = Vector2(1480, -1760)
nodes/fragment/61/node = SubResource("VisualShaderNodeInput_hmdb7")
nodes/fragment/61/position = Vector2(1780, -1620)
nodes/fragment/62/node = SubResource("VisualShaderNodeInput_e8eum")
nodes/fragment/62/position = Vector2(1860, -1440)
nodes/fragment/64/node = SubResource("VisualShaderNodeTexture2DParameter_jrux0")
nodes/fragment/64/position = Vector2(2120, -1660)
nodes/fragment/65/node = SubResource("VisualShaderNodeTexture_kxdly")
nodes/fragment/65/position = Vector2(3380, 120)
nodes/fragment/66/node = SubResource("VisualShaderNodeTexture_p8if5")
nodes/fragment/66/position = Vector2(2920, 400)
nodes/fragment/67/node = SubResource("VisualShaderNodeVectorOp_6f8cb")
nodes/fragment/67/position = Vector2(4000, -120)
nodes/fragment/68/node = SubResource("VisualShaderNodeFloatOp_unk7x")
nodes/fragment/68/position = Vector2(3340, 320)
nodes/fragment/71/node = SubResource("VisualShaderNodeInput_tct53")
nodes/fragment/71/position = Vector2(2580, 480)
nodes/fragment/72/node = SubResource("VisualShaderNodeFloatOp_0xxmg")
nodes/fragment/72/position = Vector2(3580, 260)
nodes/fragment/74/node = SubResource("VisualShaderNodeInput_7qx8t")
nodes/fragment/74/position = Vector2(180, -460)
nodes/fragment/76/node = SubResource("VisualShaderNodeUVFunc_sq4hp")
nodes/fragment/76/position = Vector2(600, -960)
nodes/fragment/78/node = SubResource("VisualShaderNodeInput_itarw")
nodes/fragment/78/position = Vector2(160, -380)
nodes/fragment/79/node = SubResource("VisualShaderNodeFloatOp_yuvov")
nodes/fragment/79/position = Vector2(480, -520)
nodes/fragment/80/node = SubResource("VisualShaderNodeVectorCompose_rg7pb")
nodes/fragment/80/position = Vector2(840, -460)
nodes/fragment/84/node = SubResource("VisualShaderNodeFloatConstant_33mfv")
nodes/fragment/84/position = Vector2(1040, -1080)
nodes/fragment/85/node = SubResource("VisualShaderNodeFloatOp_1s0md")
nodes/fragment/85/position = Vector2(1360, -1100)
nodes/fragment/86/node = SubResource("VisualShaderNodeFloatOp_uv0wp")
nodes/fragment/86/position = Vector2(1260, -1280)
nodes/fragment/87/node = SubResource("VisualShaderNodeVectorOp_2bk2k")
nodes/fragment/87/position = Vector2(1440, -1380)
nodes/fragment/88/node = SubResource("VisualShaderNodeVectorOp_uwxcn")
nodes/fragment/88/position = Vector2(1640, -1260)
nodes/fragment/89/node = SubResource("VisualShaderNodeInput_gfi8h")
nodes/fragment/89/position = Vector2(1100, -1480)
nodes/fragment/90/node = SubResource("VisualShaderNodeTexture_sf6tu")
nodes/fragment/90/position = Vector2(1860, -1320)
nodes/fragment/91/node = SubResource("VisualShaderNodeFloatOp_77j3t")
nodes/fragment/91/position = Vector2(680, -360)
nodes/fragment/92/node = SubResource("VisualShaderNodeFloatOp_5s2ym")
nodes/fragment/92/position = Vector2(520, -240)
nodes/fragment/93/node = SubResource("VisualShaderNodeTexture_lg431")
nodes/fragment/93/position = Vector2(1100, -620)
nodes/fragment/94/node = SubResource("VisualShaderNodeTexture_o8o50")
nodes/fragment/94/position = Vector2(1000, -40)
nodes/fragment/95/node = SubResource("VisualShaderNodeVectorCompose_4ob8e")
nodes/fragment/95/position = Vector2(800, -240)
nodes/fragment/96/node = SubResource("VisualShaderNodeFloatOp_l2p50")
nodes/fragment/96/position = Vector2(740, -100)
nodes/fragment/97/node = SubResource("VisualShaderNodeFloatOp_0xlgk")
nodes/fragment/97/position = Vector2(520, -80)
nodes/fragment/113/node = SubResource("VisualShaderNodeFloatOp_u7bq2")
nodes/fragment/113/position = Vector2(1580, -1060)
nodes/fragment/116/node = SubResource("VisualShaderNodeVectorOp_tclcb")
nodes/fragment/116/position = Vector2(2500, -1420)
nodes/fragment/119/node = SubResource("VisualShaderNodeVectorOp_80jyg")
nodes/fragment/119/position = Vector2(1260, -240)
nodes/fragment/122/node = SubResource("VisualShaderNodeClamp_mbdo5")
nodes/fragment/122/position = Vector2(2860, 140)
nodes/fragment/126/node = SubResource("VisualShaderNodeTexture_r34u5")
nodes/fragment/126/position = Vector2(3080, -900)
nodes/fragment/133/node = SubResource("VisualShaderNodeExpression_j1act")
nodes/fragment/133/position = Vector2(1240, -560)
nodes/fragment/133/size = Vector2(480, 340)
nodes/fragment/133/input_ports = "0,5,col;"
nodes/fragment/133/output_ports = "0,5,output;"
nodes/fragment/133/expression = "output = clamp(col * COLOR, 0, 1);"
nodes/fragment/134/node = SubResource("VisualShaderNodeTexture_0lsnf")
nodes/fragment/134/position = Vector2(980, -340)
nodes/fragment/140/node = SubResource("VisualShaderNodeFloatOp_vbsx6")
nodes/fragment/140/position = Vector2(3060, -800)
nodes/fragment/141/node = SubResource("VisualShaderNodeTexture_hyj5q")
nodes/fragment/141/position = Vector2(820, -800)
nodes/fragment/143/node = SubResource("VisualShaderNodeTexture_6ys0r")
nodes/fragment/143/position = Vector2(1340, -880)
nodes/fragment/148/node = SubResource("VisualShaderNodeVectorOp_sd0ih")
nodes/fragment/148/position = Vector2(2900, -1100)
nodes/fragment/150/node = SubResource("VisualShaderNodeVectorCompose_prwic")
nodes/fragment/150/position = Vector2(1940, -460)
nodes/fragment/152/node = SubResource("VisualShaderNodeVectorOp_s2vc3")
nodes/fragment/152/position = Vector2(3020, -700)
nodes/fragment/156/node = SubResource("VisualShaderNodeVectorOp_jqpob")
nodes/fragment/156/position = Vector2(1640, -840)
nodes/fragment/157/node = SubResource("VisualShaderNodeFloatOp_ep6uo")
nodes/fragment/157/position = Vector2(1780, -800)
nodes/fragment/158/node = SubResource("VisualShaderNodeFloatOp_rajr3")
nodes/fragment/158/position = Vector2(1940, -800)
nodes/fragment/160/node = SubResource("VisualShaderNodeColorConstant_l8j8j")
nodes/fragment/160/position = Vector2(1840, -260)
nodes/fragment/162/node = SubResource("VisualShaderNodeVectorCompose_8ugyq")
nodes/fragment/162/position = Vector2(2200, -680)
nodes/fragment/165/node = SubResource("VisualShaderNodeVectorCompose_0ltwd")
nodes/fragment/165/position = Vector2(2260, -840)
nodes/fragment/166/node = SubResource("VisualShaderNodeVectorCompose_u5fus")
nodes/fragment/166/position = Vector2(2400, -600)
nodes/fragment/167/node = SubResource("VisualShaderNodeVectorOp_6bbxl")
nodes/fragment/167/position = Vector2(2040, -1020)
nodes/fragment/168/node = SubResource("VisualShaderNodeVectorOp_caxlo")
nodes/fragment/168/position = Vector2(2200, -1100)
nodes/fragment/169/node = SubResource("VisualShaderNodeVectorOp_p6k4i")
nodes/fragment/169/position = Vector2(2920, -320)
nodes/fragment/170/node = SubResource("VisualShaderNodeExpression_mxikc")
nodes/fragment/170/position = Vector2(2040, -320)
nodes/fragment/170/size = Vector2(480, 340)
nodes/fragment/170/input_ports = "0,5,col;"
nodes/fragment/170/output_ports = "0,5,output;"
nodes/fragment/170/expression = "output = clamp(col * COLOR, 0, 1);"
nodes/fragment/171/node = SubResource("VisualShaderNodeVectorOp_7i2xm")
nodes/fragment/171/position = Vector2(2440, -840)
nodes/fragment/172/node = SubResource("VisualShaderNodeFloatOp_jrx4j")
nodes/fragment/172/position = Vector2(1420, -80)
nodes/fragment/174/node = SubResource("VisualShaderNodeVectorCompose_5sxhw")
nodes/fragment/174/position = Vector2(1720, -100)
nodes/fragment/175/node = SubResource("VisualShaderNodeFloatOp_tm0u7")
nodes/fragment/175/position = Vector2(1400, 80)
nodes/fragment/176/node = SubResource("VisualShaderNodeFloatOp_0q8j6")
nodes/fragment/176/position = Vector2(1380, 240)
nodes/fragment/177/node = SubResource("VisualShaderNodeVectorOp_lv086")
nodes/fragment/177/position = Vector2(2500, -1180)
nodes/fragment/178/node = SubResource("VisualShaderNodeVectorOp_roc3m")
nodes/fragment/178/position = Vector2(2760, -140)
nodes/fragment/179/node = SubResource("VisualShaderNodeVectorCompose_evjww")
nodes/fragment/179/position = Vector2(2580, -220)
nodes/fragment/180/node = SubResource("VisualShaderNodeVectorOp_rgl3h")
nodes/fragment/180/position = Vector2(2360, -1060)
nodes/fragment/connections = PackedInt32Array(5, 0, 10, 2, 7, 0, 10, 4, 13, 0, 10, 6, 14, 0, 10, 7, 17, 0, 10, 8, 18, 0, 10, 0, 19, 0, 10, 1, 11, 0, 10, 3, 22, 0, 23, 0, 23, 0, 24, 0, 24, 0, 25, 2, 26, 0, 25, 0, 25, 0, 27, 0, 28, 0, 29, 1, 27, 0, 29, 0, 29, 0, 31, 1, 30, 0, 31, 0, 28, 0, 32, 0, 32, 0, 33, 1, 31, 0, 33, 0, 33, 0, 21, 0, 10, 0, 38, 0, 10, 1, 38, 1, 38, 0, 37, 0, 37, 0, 34, 0, 10, 0, 39, 0, 10, 0, 39, 1, 53, 0, 52, 5, 55, 0, 52, 1, 56, 0, 52, 2, 58, 0, 52, 3, 54, 0, 52, 0, 59, 0, 52, 6, 71, 0, 66, 0, 66, 0, 68, 1, 65, 1, 68, 0, 65, 0, 67, 0, 68, 0, 72, 1, 68, 0, 72, 0, 72, 0, 67, 1, 64, 0, 52, 4, 74, 0, 79, 0, 84, 0, 86, 1, 86, 0, 87, 1, 84, 0, 85, 0, 85, 0, 88, 1, 87, 0, 88, 0, 88, 0, 90, 0, 79, 0, 80, 1, 78, 2, 79, 1, 91, 0, 80, 0, 74, 0, 92, 0, 92, 0, 91, 1, 78, 1, 91, 0, 96, 0, 95, 0, 97, 0, 96, 1, 78, 1, 96, 0, 74, 0, 97, 0, 95, 0, 94, 0, 79, 0, 95, 1, 80, 0, 93, 0, 80, 0, 44, 0, 93, 0, 119, 0, 119, 3, 113, 0, 95, 0, 134, 0, 134, 0, 119, 1, 93, 0, 133, 0, 90, 0, 116, 0, 133, 3, 150, 2, 133, 3, 150, 1, 133, 2, 150, 0, 133, 4, 156, 1, 150, 0, 156, 0, 156, 3, 157, 0, 156, 3, 157, 1, 157, 0, 158, 0, 157, 0, 158, 1, 158, 0, 162, 0, 158, 0, 165, 1, 158, 0, 166, 2, 162, 0, 167, 1, 165, 0, 167, 0, 167, 0, 168, 0, 169, 1, 165, 0, 169, 3, 165, 2, 169, 2, 166, 1, 169, 1, 166, 0, 169, 3, 162, 2, 169, 2, 162, 1, 166, 0, 168, 1, 174, 0, 171, 1, 94, 1, 172, 0, 94, 1, 172, 1, 172, 0, 174, 0, 94, 2, 175, 0, 94, 2, 175, 1, 175, 0, 174, 1, 94, 3, 176, 0, 94, 3, 176, 1, 176, 0, 174, 2, 113, 0, 116, 1, 160, 0, 170, 0, 170, 4, 178, 1, 170, 1, 179, 0, 170, 2, 179, 1, 170, 2, 179, 2, 179, 0, 178, 0, 178, 0, 169, 0, 168, 0, 180, 0, 171, 0, 180, 1, 180, 0, 177, 1, 171, 0, 0, 5, 44, 0, 86, 0, 89, 0, 87, 0, 90, 0, 177, 0, 177, 0, 0, 0)
